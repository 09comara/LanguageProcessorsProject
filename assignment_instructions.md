The Programming Project: 

This is the programming project for module CE4717, Spring Semester, AY 2013/2014.

Given:

A formal EBNF grammar for a computer language (the "Compiler Project Language", CPL).
Routines for:
Character handling
String table manipulation
Scanning
Symbol table manipulation
An interpreter for the target machine assembly language ("sim" - command line, or "simgui" - graphical).

Write the following: 

parser1.c

This is a pure parser for the CPL. This program should accept all syntactically valid CPL programs and reject all invalid ones. On acceptance the program should print " valid", on rejection it should stop parsing at the first syntax error in the CPL source being analysed and print " syntax error". Marks: 5 (5% of total module marks).
parser2.c

This is a pure parser which includes full syntax error detection and recovery. This should report syntax errors by type, recover from them and continue parsing the CPL source being analysed. Marks: 10 (10% of total module marks).
comp1.c

This is a compiler performing syntax and semantic error detection and code generation for the CPL language, excluding procedure definitions. (Please note, comp1 must handle READ and WRITE statements fully. These look like procedure calls syntactially, but they should compile to Read and Write instructions). Marks: 15 (15% of total module marks).
comp2.c

This is a full compiler performing syntax and semantic error detection and code generation for all parts of the CPL language, including procedure definitions with parameters. Marks: 10 (10% of total module marks).

The idea is that you build up the project in small incremental parts. First you write and test parser1.c, when this is working, and has passed all the tests you think appropriate, copy it to parser2.c, and save parser1.c in a safe place. Take the source in file parser2.c, extend this to implement the required parser2 functionality and test it. When you are happy that parser2.c is working properly, copy it to comp1.c, and save parser2.c in a safe place. Extend comp1.c and test, etc.

Each successive part of the project represents a "freeze-point", where you archive a stable version of your work. When you are done, you will have four source files, parser1.c, parser2.c, comp1.c, and comp2.c. These four files are what you submit as your project.   I do not want any object, executable or library files. 


A note on test cases: I have provided a few test cases for the various parsers and compilers in the software kits. These are designed to give you a start with testing, they are not sufficient to test each part of the project thoroughly. It is up to you to add appropriate test cases to ensure that your code is working well. I will use unseen test cases to check the behaviour of your code when I am grading it.

You may work by yourself on the project, or in a group with one or two others. Include the names and I.D. numbers of all participants in your group at the start of each source file.

The deadline for submission of the CE4717 project is Monday week 13, (28-April-14) at 17h00.


Command-line calling conventions for your project work 

I expect the four programs which you submit as your project work to obey the following command-line argument conventions:

The first argument ( argv[1]) must be the name of the source program to be parsed or compiled.
The second argument ( argv[2]) must be the name of the listing file to be generated by your parser (or compiler).
The third argument ( argv[3]) is only required for the two compiler programs, in which case it represents the name of the file into which the assembly language code is to be written.
Hence, I will expect to be able to call the programs like so:

$ parser1 <source program>  <listing file >         (ex:   $ parser1 t est1.prog test1.lis )
$ parser2   <source program>   <listing file> 

$ comp1   <source program>   <listing file>  <assembly code file> 

$ comp2   <source program>   <listing file>  <assembly code file>

It is important that your programs obey these command-line argument conventions because the testing software will expect to be able to call them in this fashion. 

The tests are normally carried out on a unix or Linux box, so please ensure that your programs are written in ANSI standard C. It is particularly important to check that this is the case if you choose to use an IDE to write your software.



Project Software 

The software kit for the module consists of a set of sources which compile into a character-handler, scanner, string table and symbol table for the project compiler. This Unix kit is designed to work on any Unix system that supports the gcc compiler, Gnu make and Gnu ar. This, of course, includes all popular desktop Linux distributions. It will also work with Cygwin on Windows. The kit has been tested with gcc 4.x on Mac OS/X. Ubuntu, Debian, Arch Linux, and Cygwin.

The kit may be downloaded from the "Resources/software/Project Software/" section of this site.  It is in the file "distrib-unix.tar.gz".  Use tar/gunzip are used to unwrap the archive:


     $ tar xzvof ../distrib-unix.tar.gz 

I've also set up a QtCreator project tree for use on Linux/unix (including Mac OSX) systems with QtCreator installed. Just download the file ce4717-qtcreator-linux.tgz.  You'll need the unix kit as well.  See the file 00ReadMe.1st in the project software directory.

N.B., If you don't have Linux on your laptop, you might consider using a VirtualBox virtual machine to run a system with all the module software set up for you. I've prepared a VirtualBox virtual machine disk image which you can download and run using the VirtualBox system (which you can get at www.virtualbox.org) with all software needed for the module.
You may find it more convenient to download this and work with it.  It has projects set up in the QtCreator IDE ready to use.  Also, because the compiler used by QtCreator is gcc, this system sets things up in the same way as I do for testing, so a lot of problems associated with C compiler compatibility between Windows and Linux are removed.  You may prefer to use this, as the IDE is set up for you.  

The VirtualBox disk image is available on the share \\ECE-COMMS\CE4717.  The file you want is  ce4717-lubuntu.ova, which is a VirtualBox transportable disk image.  Download this to your laptop, start up VirtualBox and import this file ( File -> Import Appliance).  This will create a virtual machine ce4717-lubuntu in the VirtualBox Manager window, just click on this to start it up.  You can now delete  ce4717-lubuntu.ova, as you won't need it again.

When the ce4717-lubuntu image has booted, log in as ce4717user, (password ce4717user).  Start up the QtCreator IDE (from the QtCreator icon on the desktop), and select File -> Open File or Project, then one of smallparser, simparse, parser1, parser2, comp1 or comp2.  For example, select smallparser, then click on the project file smallparser.pro; this will open the project with all dependencies set up for you.  Each of the other five directories ( simparse,  parser1, parser2,  comp1 and comp2) contains an analogous project file.
